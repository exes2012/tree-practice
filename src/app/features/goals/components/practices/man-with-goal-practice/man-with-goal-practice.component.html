<app-practice-layout
  [practiceTitle]="'Подъем МАН с целью'"
  [steps]="steps"
  [currentStepIndex]="currentStepIndex"
  [currentStepData]="steps[currentStepIndex]"
  (practiceFinished)="onPracticeFinished($event)"
  (nextStepClicked)="onNextStepClicked()"
  (previousStepClicked)="onPreviousStepClicked()"
  (toggleRepetitionClicked)="onToggleRepetitionClicked($event)"
>
  <ng-template #stepContent let-step="step" let-currentStepIndex="currentStepIndex">
    <div class="step-content">
      <h3 *ngIf="step.title" class="text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2">{{ step.title }}</h3>
      <p class="instruction" [innerHTML]="getInstruction(step)"></p>

      <div *ngIf="step.inputField === 'practiceFormulation'">
        <textarea [(ngModel)]="practiceFormulation" placeholder="Введите вашу цель" class="practice-formulation-textarea"></textarea>
      </div>

      <div *ngIf="step.inputField === 'feelingLocation'">
        <textarea [(ngModel)]="feelingLocation" placeholder="Опишите ощущения в теле"></textarea>
      </div>

      <div *ngIf="step.inputField === 'participantsVision'">
        <textarea [(ngModel)]="participantsVision" placeholder="Опишите участников"></textarea>
      </div>

      <div *ngIf="step.inputField === 'selfVision'">
        <textarea [(ngModel)]="selfVision" placeholder="Опишите себя и Творца"></textarea>
      </div>

      <!-- Rating is now handled by PracticeLayoutComponent -->

    </div>
  </ng-template>
</app-practice-layout>
