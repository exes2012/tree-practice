.note-editor {
  height: 100vh;

  .editor-header {
    flex-shrink: 0;
  }

  .editor-content {
    flex: 1;
    overflow: hidden;

    textarea {
      font-family: inherit;
      line-height: 1.6;
      font-size: 16px;

      &:focus {
        outline: none;
      }
    }

    .markdown-content {
      font-family: inherit;
      line-height: 1.6;
      font-size: 16px;
      word-wrap: break-word;
      white-space: pre-wrap;

      .markdown-bold {
        @apply font-bold text-neutral-800 dark:text-neutral-100;
      }

      .markdown-italic {
        @apply italic text-neutral-700 dark:text-neutral-200;
      }

      .markdown-heading {
        @apply my-2 font-semibold text-neutral-900 dark:text-neutral-100;

        &.h1 {
          @apply text-2xl;
        }
        &.h2 {
          @apply text-xl;
        }
        &.h3 {
          @apply text-lg;
        }
        &.h4 {
          @apply text-base;
        }
      }

      .markdown-list {
        @apply my-1;

        .list-marker {
          @apply font-medium text-neutral-500;
        }
      }

      .markdown-hashtag {
        @apply font-medium text-brand-500;
      }

      .markdown-syntax {
        @apply text-neutral-400 opacity-60;
      }
    }

    textarea {
      &::selection,
      &::-moz-selection {
        @apply bg-brand-500/20;
      }
    }
  }

  .editor-footer {
    flex-shrink: 0;
  }

  .formatting-toolbar {
    @apply duration-200 animate-in slide-in-from-top-2;

    button {
      @apply transition-all duration-200 hover:-translate-y-0.5 active:translate-y-0;
    }
  }

  .save-status {
    @apply transition-all duration-300;

    &.saving {
      @apply text-brand-500;
    }
    &.saved {
      @apply text-success-500;
    }
    &.unsaved {
      @apply text-warning-500;
    }
  }

  .title-input {
    &:focus {
      @apply rounded outline-none ring-2 ring-brand-500/10;
    }
  }

  // Responsive design
  @media (max-width: 768px) {
    .editor-header {
      .header-actions {
        .action-text {
          display: none;
        }
      }
    }

    .formatting-toolbar {
      padding: 0.75rem;

      .toolbar-buttons {
        gap: 0.5rem;
      }
    }

    .editor-content textarea {
      padding: 1rem;
      font-size: 16px; // Prevent zoom on iOS
    }

    .editor-footer {
      padding: 0.75rem;

      .footer-stats {
        flex-direction: column;
        align-items: flex-start;
        gap: 0.5rem;
      }
    }
  }

  // Dark mode improvements
  .dark & {
    .editor-header {
      border-color: #374151;
    }

    .formatting-toolbar {
      background-color: #1f2937;
      border-color: #374151;

      button {
        background-color: #374151;
        border-color: #4b5563;
        color: #d1d5db;

        &:hover {
          background-color: #4b5563;
        }
      }
    }

    .editor-footer {
      background-color: #1f2937;
      border-color: #374151;
    }
  }

  // Print styles
  @media print {
    .editor-header,
    .formatting-toolbar,
    .editor-footer {
      display: none;
    }

    .editor-content {
      height: auto;

      textarea {
        height: auto;
        border: none;
        box-shadow: none;
      }
    }
  }

  // Focus management
  .editor-focus-trap {
    &:focus-within {
      .editor-header {
        .header-actions {
          opacity: 1;
        }
      }
    }
  }

  // Smooth transitions for all interactive elements
  button,
  input,
  textarea {
    transition: all 0.2s ease-in-out;
  }

  // Loading state
  .loading-spinner {
    animation: spin 1s linear infinite;
  }

  @keyframes spin {
    from {
      transform: rotate(0deg);
    }
    to {
      transform: rotate(360deg);
    }
  }
}
