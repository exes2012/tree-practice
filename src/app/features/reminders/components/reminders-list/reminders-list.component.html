<div class="space-y-4 p-4 pb-24">
  <!-- Header -->
  <div class="flex items-center justify-between">
    <div>
      <h2 class="text-lg font-semibold text-gray-900 dark:text-gray-100">Мои напоминания</h2>
      <p class="text-sm text-gray-600 dark:text-gray-400">{{ reminders.length }} напоминаний</p>
    </div>
  </div>

  <!-- Loading State -->
  <div *ngIf="isLoading" class="flex justify-center py-8">
    <div class="h-8 w-8 animate-spin rounded-full border-b-2 border-gray-600"></div>
  </div>

  <!-- Empty State -->
  <div *ngIf="!isLoading && reminders.length === 0" class="py-12 text-center">
    <div
      class="mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-gray-100 dark:bg-gray-700"
    >
      <i class="material-icons text-2xl text-gray-400">notifications_off</i>
    </div>
    <h3 class="mb-2 text-lg font-medium text-gray-900 dark:text-gray-100">Нет напоминаний</h3>
    <p class="mb-4 text-gray-600 dark:text-gray-400">
      Создайте первое напоминание для своих практик
    </p>
    <button (click)="openAddModal()" class="btn-primary rounded-lg px-6 py-2 font-medium">
      Создать напоминание
    </button>
  </div>

  <!-- Reminders List -->
  <div *ngIf="!isLoading && reminders.length > 0" class="space-y-3">
    <div
      *ngFor="let reminder of reminders; trackBy: trackByReminderId"
      class="rounded-xl border border-gray-100 bg-white p-4 shadow-sm transition-all duration-200 hover:shadow-md dark:border-gray-700 dark:bg-gray-800"
    >
      <!-- Header -->
      <div class="mb-3 flex items-start justify-between">
        <div class="flex-1">
          <div class="mb-1 flex items-center gap-2">
            <span
              [class]="getCategoryInfo(reminder).color"
              class="rounded-full px-2 py-1 text-xs font-medium"
            >
              <i class="material-icons mr-1 text-xs">{{ getCategoryInfo(reminder).icon }}</i>
              {{ getCategoryInfo(reminder).name }}
            </span>
          </div>
          <h3 class="font-semibold text-gray-900 dark:text-gray-100">{{ reminder.title }}</h3>
        </div>

        <!-- Toggle Switch -->
        <label class="relative inline-flex cursor-pointer items-center">
          <input
            type="checkbox"
            [checked]="reminder.isEnabled"
            (change)="toggleReminder(reminder)"
            class="peer sr-only"
          />
          <div
            class="peer h-6 w-11 rounded-full bg-gray-200 after:absolute after:left-[2px] after:top-[2px] after:h-5 after:w-5 after:rounded-full after:border after:border-gray-300 after:bg-white after:transition-all after:content-[''] peer-checked:bg-gray-600 peer-checked:after:translate-x-full peer-checked:after:border-white peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:peer-focus:ring-gray-600"
          ></div>
        </label>
      </div>

      <!-- Message -->
      <p class="mb-3 text-sm text-gray-700 dark:text-gray-300">{{ reminder.message }}</p>

      <!-- Time and Days -->
      <div class="flex items-center justify-between text-sm">
        <div class="flex items-center gap-4">
          <div class="flex items-center gap-1 text-gray-600 dark:text-gray-400">
            <i class="material-icons text-sm">schedule</i>
            <span>{{ formatTime(reminder.time) }}</span>
          </div>
          <div class="flex items-center gap-1 text-gray-600 dark:text-gray-400">
            <i class="material-icons text-sm">event_repeat</i>
            <span>{{ formatDays(reminder.days) }}</span>
          </div>
        </div>

        <!-- Actions -->
        <div class="flex items-center gap-2">
          <button
            (click)="editReminder(reminder)"
            class="p-1 text-gray-400 transition-colors hover:text-gray-600 dark:hover:text-gray-300"
          >
            <i class="material-icons text-sm">edit</i>
          </button>
          <button
            (click)="deleteReminder(reminder)"
            class="p-1 text-gray-400 transition-colors hover:text-red-600 dark:hover:text-red-400"
          >
            <i class="material-icons text-sm">delete</i>
          </button>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Floating Action Button for Mobile -->
<button
  *ngIf="!isLoading"
  (click)="openAddModal()"
  class="btn-primary fixed bottom-24 right-4 z-40 flex h-14 w-14 items-center justify-center rounded-full shadow-lg transition-all duration-200 hover:shadow-xl md:hidden"
>
  <i class="material-icons text-2xl">add</i>
</button>
